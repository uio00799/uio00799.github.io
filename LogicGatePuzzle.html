<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ß‡∏á‡∏à‡∏£ Logic Gate ‡∏õ‡∏£‡∏¥‡∏®‡∏ô‡∏≤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            min-height: 100vh;
            padding: 20px;
            color: #fff;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .word-progress {
            background: rgba(147, 51, 234, 0.3);
            border: 2px solid #a855f7;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .word-display {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .letter-box {
            width: 60px;
            height: 70px;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid #4b5563;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            transition: all 0.5s;
        }

        .letter-box.found {
            background: rgba(34, 197, 94, 0.3);
            border-color: #22c55e;
            color: #22c55e;
            animation: letterReveal 0.5s ease-in-out;
        }

        @keyframes letterReveal {
            0% { transform: scale(0.5) rotate(-10deg); opacity: 0; }
            50% { transform: scale(1.2) rotate(5deg); }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        .game-area {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
        }

        .current-target {
            background: rgba(59, 130, 246, 0.2);
            border: 2px solid #3b82f6;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .current-target h3 {
            font-size: 1.3rem;
            color: #60a5fa;
            margin-bottom: 10px;
        }

        .target-letter {
            font-size: 4rem;
            color: #22c55e;
            font-weight: bold;
            text-shadow: 0 0 20px rgba(34, 197, 94, 0.5);
        }

        .input-section {
            margin-bottom: 30px;
        }

        .input-section h4 {
            margin-bottom: 15px;
            color: #60a5fa;
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .input-btn {
            padding: 20px 10px;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #374151;
            color: #9ca3af;
        }

        .input-btn.active {
            background: #22c55e;
            color: white;
            box-shadow: 0 0 30px rgba(34, 197, 94, 0.5);
            transform: scale(1.05);
        }

        .input-btn:hover {
            transform: translateY(-3px);
        }

        .reset-btn {
            padding: 12px 30px;
            background: #ef4444;
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .reset-btn:hover {
            background: #dc2626;
            transform: scale(1.05);
        }

        .output-section {
            background: rgba(0, 0, 0, 0.3);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .binary-display {
            text-align: center;
            margin-bottom: 20px;
        }

        .binary-value {
            font-size: 2.5rem;
            font-family: 'Courier New', monospace;
            letter-spacing: 8px;
            margin: 15px 0;
            color: #06b6d4;
        }

        .ascii-result {
            font-size: 1.5rem;
            color: #a855f7;
        }

        .feedback {
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            font-weight: bold;
            margin-bottom: 20px;
            transition: all 0.3s;
        }

        .feedback.correct {
            background: rgba(34, 197, 94, 0.3);
            border: 2px solid #22c55e;
            color: #22c55e;
        }

        .feedback.incorrect {
            background: rgba(239, 68, 68, 0.3);
            border: 2px solid #ef4444;
            color: #ef4444;
        }

        .hint-section {
            background: rgba(251, 191, 36, 0.1);
            border: 2px solid #fbbf24;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .hint-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .hint-btn {
            padding: 15px;
            border: 2px solid #fbbf24;
            border-radius: 10px;
            background: rgba(251, 191, 36, 0.2);
            color: #fbbf24;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .hint-btn:hover:not(:disabled) {
            background: rgba(251, 191, 36, 0.3);
            transform: scale(1.05);
        }

        .hint-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .hint-display {
            background: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            padding: 20px;
            margin-top: 15px;
            min-height: 60px;
            color: #fbbf24;
        }

        .mistakes-counter {
            background: rgba(239, 68, 68, 0.2);
            border: 2px solid #ef4444;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            margin-bottom: 20px;
        }

        .victory-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .victory-content {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            padding: 50px;
            border-radius: 20px;
            text-align: center;
            animation: victoryPop 0.5s ease-in-out;
        }

        @keyframes victoryPop {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }

        .victory-title {
            font-size: 3rem;
            margin-bottom: 20px;
        }

        .victory-word {
            font-size: 4rem;
            font-weight: bold;
            margin: 30px 0;
            letter-spacing: 5px;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            .target-letter {
                font-size: 3rem;
            }
            .binary-value {
                font-size: 1.8rem;
                letter-spacing: 4px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üîå ‡∏ß‡∏á‡∏à‡∏£ Logic Gate ‡∏õ‡∏£‡∏¥‡∏®‡∏ô‡∏≤</h1>
            <p style="color: #9ca3af;">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ó‡∏µ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≥‡∏•‡∏±‡∏ö!</p>
        </div>

        <div class="word-progress">
            <h3 style="text-align: center; color: #a855f7; margin-bottom: 15px;">üìù ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤</h3>
            <div class="word-display" id="wordDisplay"></div>
        </div>

        <div class="game-area">
            <div class="current-target">
                <h3>üéØ ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤</h3>
                <div class="target-letter" id="targetLetter">K</div>
                <p style="color: #9ca3af; margin-top: 10px;">‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ Input A-H ‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ Binary ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</p>
            </div>

            <div class="mistakes-counter" id="mistakesCounter">
                ‚ùå ‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î: <span id="mistakeCount">0</span> ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
            </div>

            <div class="input-section">
                <h4>‚ö° ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ Input (‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ON/OFF)</h4>
                <div class="input-grid" id="inputGrid"></div>
                <button class="reset-btn" onclick="resetInputs()">üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï Input</button>
            </div>

            <div class="output-section">
                <h4 style="margin-bottom: 15px; color: #06b6d4;">üìä Output</h4>
                <div class="binary-display">
                    <div style="color: #9ca3af; font-size: 0.9rem;">Binary (8 bits):</div>
                    <div class="binary-value" id="binaryValue">00000000</div>
                    <div class="ascii-result">
                        ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£: <span id="asciiChar" style="font-size: 2rem; color: #a855f7;">'@'</span>
                    </div>
                </div>
            </div>

            <div id="feedback" class="feedback incorrect">
                ‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á!
            </div>
        </div>

        <div class="hint-section">
            <h3 style="text-align: center; color: #fbbf24; margin-bottom: 20px;">üí° ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ?</h3>
            <div class="hint-buttons">
                <button class="hint-btn" onclick="buyHint(5)">
                    üí° ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡πÄ‡∏•‡πá‡∏Å<br>
                    <small>(‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î 5 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á)</small>
                </button>
                <button class="hint-btn" onclick="buyHint(10)">
                    üí° ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏Å‡∏•‡∏≤‡∏á<br>
                    <small>(‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î 10 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á)</small>
                </button>
                <button class="hint-btn" onclick="buyHint(25)">
                    üí° ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡πÉ‡∏´‡∏ç‡πà<br>
                    <small>(‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î 25 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á)</small>
                </button>
                <button class="hint-btn" onclick="buyHint(50)">
                    üí° ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏û‡∏¥‡πÄ‡∏®‡∏©<br>
                    <small>(‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î 50 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á)</small>
                </button>
                <button class="hint-btn" onclick="buyHint(100)">
                    üìñ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏´‡∏≤<br>
                    <small>(‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î 100 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á)</small>
                </button>
            </div>
            <div class="hint-display" id="hintDisplay">
                ‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏à‡∏∞‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î‡∏Ñ‡∏£‡∏ö‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î
            </div>
        </div>
    </div>

    <div class="victory-screen" id="victoryScreen">
        <div class="victory-content">
            <div class="victory-title">üéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! üéâ</div>
            <div>‡∏Ñ‡∏∏‡∏ì‡∏´‡∏≤‡∏Ñ‡∏≥‡∏•‡∏±‡∏ö‡πÄ‡∏à‡∏≠‡πÅ‡∏•‡πâ‡∏ß!</div>
            <div class="victory-word" id="victoryWord">KNOWLEDGE</div>
            <p style="font-size: 1.2rem; margin-top: 20px;">
                ‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <span id="finalMistakes">0</span> ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
            </p>
            <button class="reset-btn" onclick="location.reload()" style="margin-top: 30px; padding: 15px 40px; font-size: 1.2rem;">
                üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà
            </button>
        </div>
    </div>

    <script>
        const targetWord = "Knowledge";
        const correctBinary = [
            "01001011", "01101110", "01101111", "01110111",
            "01101100", "01100101", "01100100", "01100111", "01100101"
        ];
        
        let currentIndex = 0;
        let mistakes = 0;
        let foundLetters = [];
        let inputs = { A: false, B: false, C: false, D: false, E: false, F: false, G: false, H: false };
        let lastBinary = "00000000";

        const hints = {
            10: [
                "Binary code ‡∏°‡∏µ 8 bits (8 ‡∏´‡∏•‡∏±‡∏Å)",
                "‡πÄ‡∏•‡∏Ç 0 ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á OFF ‡πÅ‡∏•‡∏∞ 1 ‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á ON",
                "ASCII ‡∏Ç‡∏≠‡∏á 'K' ‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á 65-90",
                "‡∏•‡∏≠‡∏á ON Input ‡∏ï‡∏±‡∏ß‡∏ó‡∏µ‡πà 2 ‡πÅ‡∏•‡∏∞ 4 ‡∏î‡∏π‡∏™‡∏¥",
                "‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ 'n' ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤ ASCII ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 110"
            ],
            25: [
                "Binary ‡∏Ç‡∏≠‡∏á 'K' ‡∏Ñ‡∏∑‡∏≠ 01001011",
                "Input A ‡∏ñ‡∏∂‡∏á H = Bit 7 ‡∏ñ‡∏∂‡∏á Bit 0",
                "Input B ‡πÅ‡∏•‡∏∞ D ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô ON ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 'K'",
                "Binary ‡∏ó‡∏µ‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ 011 ‡∏°‡∏±‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡πá‡∏Å",
                "‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ 'o' ‡∏õ‡∏£‡∏≤‡∏Å‡∏è 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏µ‡πâ"
            ],
            50: [
                "K = 01001011 (A=OFF, B=ON, C=OFF, D=ON, E=OFF, F=ON, G=ON, H=ON)",
                "‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏Ñ‡∏∑‡∏≠ 'n' = 01101110",
                "Input ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á ON: A, B, C ‡∏´‡∏£‡∏∑‡∏≠ D ‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£",
                "‡∏•‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ 5-6 bits ‡πÄ‡∏õ‡πá‡∏ô 1",
                "Binary 01100101 ‡∏Ñ‡∏∑‡∏≠‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ 'e'"
            ],
            100: [
                "‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ",
                "‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£: K-n-o-w-l-e-d-g-e",
                "‡∏ï‡∏±‡∏ß 'w' = 01110111 (7 bits ‡πÄ‡∏õ‡πá‡∏ô 1)",
                "Input H ‡∏Ñ‡∏∑‡∏≠ bit ‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ (Bit 0)",
                "‡∏•‡∏≠‡∏á ON Input B, C, D ‡∏°‡∏±‡∏Å‡πÑ‡∏î‡πâ‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡πá‡∏Å"
            ],
            500: [
                "‡∏ß‡∏¥‡∏ò‡∏µ‡∏´‡∏≤: ‡πÅ‡∏õ‡∏•‡∏á ASCII character ‡πÄ‡∏õ‡πá‡∏ô Binary 8 bits",
                "‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: 'K' (ASCII 75) = 01001011",
                "Input A = Bit 7 (‡∏ã‡πâ‡∏≤‡∏¢‡∏™‡∏∏‡∏î), Input H = Bit 0 (‡∏Ç‡∏ß‡∏≤‡∏™‡∏∏‡∏î)",
                "‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡πÄ‡∏•‡∏Ç ‡πÅ‡∏õ‡∏•‡∏á DEC ‡πÄ‡∏õ‡πá‡∏ô BIN",
                "Binary ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: K(01001011), n(01101110), o(01101111), w(01110111), l(01101100), e(01100101), d(01100100), g(01100111), e(01100101)"
            ]
        };

        function initGame() {
            updateWordDisplay();
            initInputs();
            updateTarget();
            updateCircuit();
        }

        function updateWordDisplay() {
            const display = document.getElementById('wordDisplay');
            display.innerHTML = '';
            for (let i = 0; i < targetWord.length; i++) {
                const box = document.createElement('div');
                box.className = foundLetters[i] ? 'letter-box found' : 'letter-box';
                box.textContent = foundLetters[i] ? targetWord[i] : '?';
                display.appendChild(box);
            }
        }

        function updateTarget() {
            if (currentIndex < targetWord.length) {
                document.getElementById('targetLetter').textContent = targetWord[currentIndex];
            }
        }

        function initInputs() {
            const grid = document.getElementById('inputGrid');
            Object.keys(inputs).forEach(key => {
                const btn = document.createElement('button');
                btn.className = 'input-btn';
                btn.innerHTML = `INPUT ${key}<br><small>OFF (0)</small>`;
                btn.onclick = () => toggleInput(key, btn);
                grid.appendChild(btn);
            });
        }

        function toggleInput(key, btn) {
            inputs[key] = !inputs[key];
            btn.className = inputs[key] ? 'input-btn active' : 'input-btn';
            btn.innerHTML = `INPUT ${key}<br><small>${inputs[key] ? 'ON (1)' : 'OFF (0)'}</small>`;
            updateCircuit();
        }

        function resetInputs() {
            Object.keys(inputs).forEach(key => {
                inputs[key] = false;
            });
            document.querySelectorAll('.input-btn').forEach((btn, i) => {
                const key = Object.keys(inputs)[i];
                btn.className = 'input-btn';
                btn.innerHTML = `INPUT ${key}<br><small>OFF (0)</small>`;
            });
            updateCircuit();
        }

        function binaryToChar(binary) {
            try {
                return String.fromCharCode(parseInt(binary, 2));
            } catch {
                return '?';
            }
        }

        function updateCircuit() {
            const { A, B, C, D, E, F, G, H } = inputs;
            const inputBinary = [A, B, C, D, E, F, G, H].map(v => v ? '1' : '0').join('');
            
            document.getElementById('binaryValue').textContent = inputBinary;
            document.getElementById('asciiChar').textContent = `'${binaryToChar(inputBinary)}'`;

            const feedback = document.getElementById('feedback');
            const targetBinary = correctBinary[currentIndex];

            if (inputBinary !== lastBinary) {
                lastBinary = inputBinary;
                
                if (inputBinary === targetBinary) {
                    feedback.className = 'feedback correct';
                    feedback.textContent = `‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á! ‡∏Ñ‡∏∏‡∏ì‡∏´‡∏≤‡πÄ‡∏à‡∏≠‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ '${targetWord[currentIndex]}' ‡πÅ‡∏•‡πâ‡∏ß!`;
                    
                    foundLetters[currentIndex] = true;
                    currentIndex++;
                    
                    setTimeout(() => {
                        updateWordDisplay();
                        
                        if (currentIndex >= targetWord.length) {
                            showVictory();
                        } else {
                            updateTarget();
                            resetInputs();
                            feedback.className = 'feedback incorrect';
                            feedback.textContent = '‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á!';
                        }
                    }, 1500);
                } else {
                    mistakes++;
                    document.getElementById('mistakeCount').textContent = mistakes;
                    feedback.className = 'feedback incorrect';
                    feedback.textContent = `‚ùå ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ (‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î ${mistakes} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á)`;
                    updateHintButtons();
                }
            }
        }

        function updateHintButtons() {
            document.querySelectorAll('.hint-btn').forEach(btn => {
                const cost = parseInt(btn.getAttribute('onclick').match(/\d+/)[0]);
                btn.disabled = mistakes < cost;
            });
        }

        function buyHint(cost) {
            if (mistakes < cost) {
                alert(`‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ ${cost} ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡∏î‡∏π‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ!`);
                return;
            }

            const hintLevel = hints[cost];
            const randomHint = hintLevel[Math.floor(Math.random() * hintLevel.length)];
            
            document.getElementById('hintDisplay').innerHTML = `
                <div style="font-size: 1.1rem; line-height: 1.6;">
                    üí° <strong>‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ:</strong><br>
                    ${randomHint}
                </div>
            `;
        }

        function showVictory() {
            document.getElementById('finalMistakes').textContent = mistakes;
            document.getElementById('victoryWord').textContent = targetWord.toUpperCase();
            document.getElementById('victoryScreen').style.display = 'flex';
        }

        initGame();
        updateHintButtons();
    </script>
</body>
</html>
